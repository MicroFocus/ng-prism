<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PrismJS using Angular</title>

	<link rel="stylesheet" href="ng-prism.css">
	<link rel="stylesheet" href="app.css">
	<script type="application/javascript" src="vendor.js"></script>
	<script type="application/javascript" src="ng-prism.js"></script>
	<script>
		window.onload = function() {
		    // Change direction button
            document.getElementById('changeDir').addEventListener('click', function() {
                document.body.dir = (document.body.dir === 'rtl') ? 'ltr' : 'rtl';
            });

            // Header toggles
            var sectionHeaders = document.getElementsByTagName('h3');
            for (var i = 0; i < sectionHeaders.length; i++) {
                var sectionHeader = sectionHeaders[i];
                sectionHeader.addEventListener('click', function() {
                    var section = this.nextElementSibling;
                    var visible = (section.style.display === 'block');
                    section.style.display = visible ? 'none' : 'block';
                });
			}
		};
	</script>
</head>
<body>
	<button id="changeDir">Change direction</button>

	<h3>Highlight</h3>
	<section>
		<pre><code highlight>
			this.openPromptDialog = function () {
				this.DialogService
					.prompt({
					cancel: 'Cancel',
					ok: 'OK',
					textContent: 'What do you want to say?',
					title: 'Prompt'
				})
					.then(function (result) {
					alert(result);
				}, function () {
					alert('declined');
				});
			};
		</code></pre>
		<pre dir="ltr"><code highlight="markup">
			&lt;link rel="stylesheet" href="icons.css" /&gt;
			&lt;link rel="stylesheet" href="ng-ux.css" /&gt;
			&lt;script src="ng-ux.js"&gt;&lt;/script&gt;
		</code></pre>
	</section>

	<h3>PrismJS</h3>
	<section>
		<pre dir="ltr"><code class="language-javascript">
			otherLines.forEach((line: string) => {
				if (!isBlankLine(line)) {
					whitespaceLength = getWhitespaceLength(line);
					if (commonWhitespaceLength === -1 || whitespaceLength < commonWhitespaceLength) {
						commonWhitespaceLength = whitespaceLength;
					}
				}
			});
		</code></pre>
		<pre dir="ltr"><code class="language-markup">
			&lt;link rel="stylesheet" href="icons.css" /&gt;
			&lt;link rel="stylesheet" href="ng-ux.css" /&gt;
			&lt;script src="ng-ux.js"&gt;&lt;/script&gt;
		</code></pre>
	</section>

	<h3>Repeat as Code</h3>
	<section>
		<app-bar repeat-as-code>
			<span class="title" title="App Bar Title">Whole Element</span>
			<button>Settings</button>
			<button>Sign Out</button>
		</app-bar>
		<app-bar repeat-as-code="inner">
			<span class="title" title="App Bar Title">Child Elements</span>
			<button>Settings</button>
			<button>Sign Out</button>
		</app-bar>
		<div repeat-as-code prism-insert-id="trc-01" style="margin-bottom: 5px;">
			<span class="title" title="App Bar Title">Inserted somewhere else</span>
		</div>
		<button>Breaks the flow</button>
		<div id="trc-01">
			<pre dir="ltr"><code class="language-javascript">
				var codeWasAlreadyHere = null;
			</code></pre>
		</div>
	</section>

	<h3>Toggle Repeat Code</h3>
	<section>
		<span toggle-repeat-code>
			<i class="icon icon-search_thick"></i>
			<button type="button" class="menu-toggle"><span>Jonathan Smithsonian</span><i class="icon icon-down_thick"></i></button>
		</span>
		<div toggle-repeat-code="inner">
			<span>
				<i class="icon icon-search_thick"></i>
				<button type="button" class="menu-toggle"><span>Jonathan Smithsonian</span><i class="icon icon-down_thick"></i></button>
			</span>
		</div>
	</section>

	<h3>Toggleable Code</h3>
	<section>
		<toggleable-code>
			<pre dir="ltr"><code class="language-javascript">
				otherLines.forEach((line: string) => {
					if (!isBlankLine(line)) {
						whitespaceLength = getWhitespaceLength(line);
						if (commonWhitespaceLength === -1 || whitespaceLength < commonWhitespaceLength) {
							commonWhitespaceLength = whitespaceLength;
						}
					}
				});
			</code></pre>
		</toggleable-code>
		<toggleable-code>
			<pre><code highlight>
				if (!isBlankLine(line)) {
					whitespaceLength = getWhitespaceLength(line);
					if (commonWhitespaceLength === -1 || whitespaceLength < commonWhitespaceLength) {
						commonWhitespaceLength = whitespaceLength;
					}
				}
			</code></pre>
			<pre><code highlight>
				this.DialogService
					.prompt({
					textContent: 'What do you want to say?',
					title: 'Prompt'
				})
			</code></pre>
		</toggleable-code>
	</section>

	<script>
        angular.bootstrap(document, ['ng-prism']);
    </script>
</body>
</html>